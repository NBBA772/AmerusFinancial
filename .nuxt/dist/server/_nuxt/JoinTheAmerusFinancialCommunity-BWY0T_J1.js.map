{"version":3,"file":"JoinTheAmerusFinancialCommunity-BWY0T_J1.js","sources":["../../../../components/forms/JoinTheAmerusFinancialCommunity.vue"],"sourcesContent":["<template>\n  <div>\n    <div class=\"px-4 mb-8 md:block\">\n      <form @submit.prevent=\"handleSubmit\">\n        <div class=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n          <div class=\"relative mb-6 group\">\n            <label\n              for=\"floating_first_name\"\n              class=\"block mb-1 text-sm font-medium text-gray-100 text-left\"\n              >First Name:</label\n            >\n            <input\n              type=\"text\"\n              v-model=\"firstName\"\n              id=\"floating_first_name\"\n              name=\"floating_first_name\"\n              class=\"block w-full py-2.5 px-4 text-sm text-gray-100 bg-gray-100 border-b-2 border-gray-300 focus:outline-none focus:border-blue-500\"\n              placeholder=\" \"\n              required\n            />\n          </div>\n          <div class=\"relative mb-6 group\">\n            <label\n              for=\"floating_last_name\"\n              class=\"block mb-1 text-sm font-medium text-gray-100 text-left\"\n              >Last Name:</label\n            >\n            <input\n              type=\"text\"\n              v-model=\"lastName\"\n              id=\"floating_last_name\"\n              name=\"floating_last_name\"\n              class=\"block w-full py-2.5 px-4 text-sm text-gray-100 bg-gray-100 border-b-2 border-gray-300 focus:outline-none focus:border-blue-500\"\n              placeholder=\" \"\n              required\n            />\n          </div>\n        </div>\n\n        <div class=\"relative mb-6 group\">\n          <label\n            for=\"email\"\n            class=\"block mb-1 text-sm font-medium text-gray-100 text-left\"\n            >Email:</label\n          >\n          <input\n            type=\"email\"\n            v-model=\"email\"\n            id=\"email\"\n            name=\"email\"\n            class=\"block w-full py-2.5 px-4 text-sm text-gray-100 bg-gray-100 border-b-2 border-gray-300 focus:outline-none focus:border-blue-500\"\n            placeholder=\" \"\n            required\n          />\n        </div>\n\n        <div class=\"relative mb-6 group\">\n          <label\n            for=\"phoneNumber\"\n            class=\"block mb-1 text-sm font-medium text-gray-100 text-left\"\n            >Phone Number:</label\n          >\n          <input\n            type=\"tel\"\n            v-model=\"phoneNumber\"\n            id=\"phoneNumber\"\n            name=\"phoneNumber\"\n            class=\"block w-full py-2.5 px-4 text-sm text-gray-100 bg-gray-100 border-b-2 border-gray-300 focus:outline-none focus:border-blue-500\"\n            placeholder=\" \"\n            required\n          />\n        </div>\n\n        <button\n          type=\"submit\"\n          class=\"block w-full py-2.5 px-5 text-sm text-white bg-indigo-600 hover:bg-indigo-800 focus:outline-none focus:ring-4 focus:ring-blue-300 font-medium rounded-lg dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800\"\n        >\n          Request Quote\n        </button>\n      </form>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  props: {\n    tag: {\n      type: String,\n      default: \"newClient\", // Default tag if not provided\n    },\n  },\n  data() {\n    return {\n      firstName: \"\",\n      lastName: \"\",\n      email: \"\",\n      phoneNumber: \"\",\n      tags: [],\n    };\n  },\n  methods: {\n    async handleSubmit() {\n      try {\n        // Create contact\n        await this.createContact();\n        // Reset form fields or show success message\n        this.resetForm();\n        console.log(\"Form submitted successfully\");\n      } catch (error) {\n        console.error(\"Error submitting form:\", error);\n      }\n    },\n    async createContact() {\n      try {\n        const config = useRuntimeConfig();\n        const myHeaders = new Headers();\n        myHeaders.append(\"Content-Type\", \"application/json\");\n        myHeaders.append(\"Authorization\", `${config.public.GHL_API_KEY}`);\n\n        const data = {\n          firstName: this.firstName,\n          lastName: this.lastName,\n          email: this.email,\n          phone: this.phoneNumber,\n          tags: [this.tag],\n        };\n\n        const raw = JSON.stringify(data);\n\n        const response = await fetch(\n          \"https://rest.gohighlevel.com/v1/contacts/\",\n          {\n            method: \"POST\",\n            headers: myHeaders,\n            body: raw,\n            redirect: \"follow\",\n          }\n        );\n\n        if (!response.ok) {\n          throw new Error(\"Failed to create contact\");\n        }\n\n        const contact = await response.json();\n        console.log(\"Created contact:\", contact); // Log the contact object\n\n        return contact; // Return the contact object\n      } catch (error) {\n        console.error(\"Error creating contact:\", error);\n        throw error;\n      }\n    },\n    resetForm() {\n      // Reset form fields here\n      this.firstName = \"\";\n      this.lastName = \"\";\n      this.email = \"\";\n      this.phoneNumber = \"\";\n      this.tags = [];\n    },\n  },\n};\n</script>\n"],"names":["_ssrRenderAttrs","_ssrRenderAttr"],"mappings":";;;;;;;;;;;;;;;;;;;AAqFA,MAAK,YAAU;AAAA,EACb,OAAO;AAAA,IACL,KAAK;AAAA,MACH,MAAM;AAAA,MACN,SAAS;AAAA;AAAA,IACV;AAAA,EACF;AAAA,EACD,OAAO;AACL,WAAO;AAAA,MACL,WAAW;AAAA,MACX,UAAU;AAAA,MACV,OAAO;AAAA,MACP,aAAa;AAAA,MACb,MAAM,CAAE;AAAA;EAEX;AAAA,EACD,SAAS;AAAA,IACP,MAAM,eAAe;AACnB,UAAI;AAEF,cAAM,KAAK;AAEX,aAAK,UAAS;AACd,gBAAQ,IAAI,6BAA6B;AAAA,MACzC,SAAO,OAAO;AACd,gBAAQ,MAAM,0BAA0B,KAAK;AAAA,MAC/C;AAAA,IACD;AAAA,IACD,MAAM,gBAAgB;AACpB,UAAI;AACF,cAAM,SAAS;AACf,cAAM,YAAY,IAAI;AACtB,kBAAU,OAAO,gBAAgB,kBAAkB;AACnD,kBAAU,OAAO,iBAAiB,GAAG,OAAO,OAAO,WAAW,EAAE;AAEhE,cAAM,OAAO;AAAA,UACX,WAAW,KAAK;AAAA,UAChB,UAAU,KAAK;AAAA,UACf,OAAO,KAAK;AAAA,UACZ,OAAO,KAAK;AAAA,UACZ,MAAM,CAAC,KAAK,GAAG;AAAA;AAGjB,cAAM,MAAM,KAAK,UAAU,IAAI;AAE/B,cAAM,WAAW,MAAM;AAAA,UACrB;AAAA,UACA;AAAA,YACE,QAAQ;AAAA,YACR,SAAS;AAAA,YACT,MAAM;AAAA,YACN,UAAU;AAAA,UACZ;AAAA;AAGF,YAAI,CAAC,SAAS,IAAI;AAChB,gBAAM,IAAI,MAAM,0BAA0B;AAAA,QAC5C;AAEA,cAAM,UAAU,MAAM,SAAS;AAC/B,gBAAQ,IAAI,oBAAoB,OAAO;AAEvC,eAAO;AAAA,MACP,SAAO,OAAO;AACd,gBAAQ,MAAM,2BAA2B,KAAK;AAC9C,cAAM;AAAA,MACR;AAAA,IACD;AAAA,IACD,YAAY;AAEV,WAAK,YAAY;AACjB,WAAK,WAAW;AAChB,WAAK,QAAQ;AACb,WAAK,cAAc;AACnB,WAAK,OAAO;IACb;AAAA,EACF;AACH;;AAlKA,QAAA,OAAAA,eAAA,MAAA,oQAAAC,cAAA,SAauB,MAAS,SAAA,mYAbhCA,cAAA,SA6BuB,MAAQ,QAAA,uXA7B/BA,cAAA,SA+CqB,MAAK,KAAA,kWA/C1BA,cAAA,SAgEqB,MAAW,WAAA;;;;;;;;;"}