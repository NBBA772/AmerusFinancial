import{B as u,g as h,i as r,o as _,c as d,a as o,t as s,l as i,F as m}from"./entry.Cl9EbFL9.js";async function g(){const l=u();var e=new Headers;e.append("Authorization",`${l.public.GHL_API_KEY}`);var a={method:"GET",headers:e};return fetch("https://rest.gohighlevel.com/v1/pipelines/",a).then(t=>{if(!t.ok)throw new Error(`HTTP error! Status: ${t.status}`);return t.json()}).then(t=>(console.log(t),t)).catch(t=>{throw console.log("Error:",t),t})}async function c(l,e){const a=u();var t=new Headers;t.append("Authorization",`${a.public.GHL_API_KEY}`);var p={method:"GET",headers:t};return fetch(`https://rest.gohighlevel.com/v1/pipelines/${l}/opportunities/?stageId=${e}`,p).then(n=>{if(!n.ok)throw new Error(`HTTP error! Status: ${n.status}`);return n.json()}).then(n=>(console.log(n),n)).catch(n=>{throw console.log("Error:",n),n})}const w={class:"p-2 m-2"},f={class:"text-3xl"},x={class:"text-2xl"},H={class:"p-2 m-2"},v={class:"text-3xl"},E={class:"text-2xl"},P=h({__name:"PipelineHeader",async setup(l){let e,a;const t=([e,a]=r(()=>g()),e=await e,a(),e);console.log(t.pipelines[1].stages[0].id);const p=([e,a]=r(()=>c(t.pipelines[1].id,t.pipelines[1].stages[0].id)),e=await e,a(),e),n=([e,a]=r(()=>c(t.pipelines[0].id,t.pipelines[0].stages[0].id)),e=await e,a(),e);return(y,A)=>(_(),d(m,null,[o("div",w,[o("h3",f,s(i(t).pipelines[1].name),1),o("p",x,s(i(p).meta.total),1),o("p",null,s(i(p).opportunities[0].contact.name),1),o("p",null,s(i(p).opportunities[0].contact.phone),1),o("p",null,s(i(p).opportunities[0].contact.email),1),o("p",null,s(i(p).opportunities[0].status),1),o("p",null,s(i(p).opportunities[0].contact.tags[0]),1)]),o("div",H,[o("h3",v,s(i(t).pipelines[0].name),1),o("p",E,s(i(n).meta.total),1),o("p",null,s(i(n).opportunities[0].contact.name),1),o("p",null,s(i(n).opportunities[0].contact.phone),1),o("p",null,s(i(n).opportunities[0].contact.email),1),o("p",null,s(i(n).opportunities[0].status),1),o("p",null,s(i(n).opportunities[0].contact.tags[0]),1)])],64))}});export{P as _};
