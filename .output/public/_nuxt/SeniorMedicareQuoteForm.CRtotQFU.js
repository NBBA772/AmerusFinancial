import g from"./LegalText.DG_4tumK.js";import{B as p,o as c,c as u,a as t,z as i,A as l,k as b,ai as f,F as x,r as _,aC as v,t as w,C as k,b as N,w as C,d as S}from"./entry.Cl9EbFL9.js";import{_ as I}from"./_plugin-vue_export-helper.DlAUqK2U.js";const P={props:{tag:{type:String,default:"newClient"}},data(){return{currentStep:1,firstName:"",lastName:"",email:"",phoneNumber:"",birthday:"",address:"",city:"",state:"",zipCode:"",tags:[],enrolledInMedicare:!1,selectedProducts:[],products:["Medicare Supplement Insurance","Medicare Advantage Insurance","Senior Dental Insurance","Senior Life Insurance","Part D Plan","Other"]}},methods:{async handleSubmit(){try{const s=await this.createContact(),a={contactId:await this.lookupContact(),body:`
Birthday: ${this.birthday}
          
Are you currently enrolled in Part A and Part B of Medicare?: ${this.enrolledInMedicare}
Products Interested In: ${this.selectedProducts.join(", ")}`};if(!(await this.createNote(a)).ok)throw new Error("Failed to create note");this.resetForm(),console.log("Form submitted successfully")}catch(s){console.error("Error submitting form:",s)}},async createContact(){try{const s=p(),e=new Headers;e.append("Content-Type","application/json"),e.append("Authorization",`${s.public.GHL_API_KEY}`);const a={firstName:this.firstName,lastName:this.lastName,email:this.email,phone:this.phoneNumber,address:this.address,city:this.city,state:this.state,zipCode:this.zipCode,birthday:this.birthday,gender:this.gender,tobaccoUse:this.tobaccoUse,anySeriousHealthConditions:this.anySeriousHealthConditions,anyChronicHealthConditions:this.anyChronicHealthConditions,tags:[this.tag]},d=JSON.stringify(a),o=await fetch("https://rest.gohighlevel.com/v1/contacts/",{method:"POST",headers:e,body:d,redirect:"follow"});if(!o.ok)throw new Error("Failed to create contact");const n=await o.json();return console.log("Created contact:",n),n}catch(s){throw console.error("Error creating contact:",s),s}},async createNote(s){try{const e=p(),a=new Headers;a.append("Content-Type","application/json"),a.append("Authorization",`${e.public.GHL_API_KEY}`);const d=JSON.stringify(s);return console.log("data ",s),await fetch(`https://rest.gohighlevel.com/v1/contacts/${s.contactId}/notes/`,{method:"POST",headers:a,body:d,redirect:"follow"})}catch(e){throw console.error("Error creating note:",e),e}},async lookupContact(){const s=p();try{const e=new Headers;e.append("Authorization",`${s.public.GHL_API_KEY}`);const a={method:"GET",headers:e,redirect:"follow"},d=await fetch(`https://rest.gohighlevel.com/v1/contacts/lookup?email=${this.email}&phone=${this.phoneNumber}`,a);if(!d.ok)throw new Error("Failed to fetch contact data");const o=await d.json();console.log("Lookup contact response:",o);const n=o.contacts[0];if(!n)throw new Error("No contact found");return n.id}catch(e){throw console.error("Error looking up contact:",e),e}},resetForm(){this.firstName="",this.lastName="",this.email="",this.phoneNumber="",this.address="",this.city="",this.state="",this.zipCode="",this.birthday="",this.gender="",this.tobaccoUse="",this.anySeriousHealthConditions="",this.anyChronicHealthConditions="",this.coverageType="",this.finalExpenses="",this.mortgage="",this.otherDebts="",this.emergencyFund="",this.educationFund="",this.currentAnnualIncome="",this.yearsIncomeNeeded="",this.savingsAndInvestments="",this.retirementSavings="",this.otherAssets="",this.currentLifeInsurance="",this.needsSummary=""},nextStep(){this.currentStep++},prevStep(){this.currentStep--}}},E={key:"step1"},A={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},H={class:"relative mb-6 group"},V=t("label",{for:"floating_first_name",class:"block mb-1 text-sm font-medium text-gray-700 text-left"},"First Name:",-1),U={class:"relative mb-6 group"},z=t("label",{for:"floating_last_name",class:"block mb-1 text-sm font-medium text-gray-700 text-left"},"Last Name:",-1),M={class:"relative mb-6 group"},q=t("label",{for:"email",class:"block mb-1 text-sm font-medium text-gray-700 text-left"},"Email:",-1),F={class:"relative mb-6 group"},B=t("label",{for:"phoneNumber",class:"block mb-1 text-sm font-medium text-gray-700 text-left"},"Phone Number:",-1),T={class:"relative mb-6 group"},L=t("label",{for:"birthday",class:"block mb-1 text-sm font-medium text-gray-700 text-left"},"Birthday:",-1),D={class:"relative mb-6 group"},j=t("label",{for:"address",class:"block mb-1 text-sm font-medium text-gray-700 text-left"},"Address:",-1),O={class:"relative mb-6 group"},Y=t("label",{for:"city",class:"block mb-1 text-sm font-medium text-gray-700 text-left"},"City:",-1),G={class:"relative mb-6 group"},K=t("label",{for:"state",class:"block mb-1 text-sm font-medium text-gray-700 text-left"},"State:",-1),R={class:"relative mb-6 group"},J=t("label",{for:"zipCode",class:"block mb-1 text-sm font-medium text-gray-700 text-left"},"Zip Code:",-1),W=["disabled"],Z={key:"step2"},Q={class:"relative mb-6 group"},X=t("label",{for:"medicareEnrollment",class:"block mb-1 text-sm font-medium text-gray-700 text-left"}," Are you currently enrolled in Part A and Part B of Medicare? ",-1),$=t("option",{value:"yes"},"Yes",-1),ee=t("option",{value:"no"},"No",-1),te=[$,ee],oe={class:"checkbox-container"},re=t("p",null,"What Products are you interested in?",-1),se=["id","value"],ne=["for"],ie=["disabled"],ae=t("button",{type:"submit",class:"bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline pagination-button"}," Submit ",-1);function le(s,e,a,d,o,n){const h=g;return c(),u("div",null,[t("form",{onSubmit:e[13]||(e[13]=k((...r)=>n.handleSubmit&&n.handleSubmit(...r),["prevent"]))},[o.currentStep===1?(c(),u("div",E,[t("div",A,[t("div",H,[V,i(t("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=r=>o.firstName=r),id:"floating_first_name",name:"floating_first_name",class:"block w-full py-2.5 px-4 text-sm text-gray-800 bg-gray-100 border-b-2 border-gray-300 focus:outline-none focus:border-blue-500",placeholder:" ",required:""},null,512),[[l,o.firstName]])]),t("div",U,[z,i(t("input",{type:"text","onUpdate:modelValue":e[1]||(e[1]=r=>o.lastName=r),id:"floating_last_name",name:"floating_last_name",class:"block w-full py-2.5 px-4 text-sm text-gray-800 bg-gray-100 border-b-2 border-gray-300 focus:outline-none focus:border-blue-500",placeholder:" ",required:""},null,512),[[l,o.lastName]])])]),t("div",M,[q,i(t("input",{type:"email","onUpdate:modelValue":e[2]||(e[2]=r=>o.email=r),id:"email",name:"email",class:"block w-full py-2.5 px-4 text-sm text-gray-800 bg-gray-100 border-b-2 border-gray-300 focus:outline-none focus:border-blue-500",placeholder:" ",required:""},null,512),[[l,o.email]])]),t("div",F,[B,i(t("input",{type:"tel","onUpdate:modelValue":e[3]||(e[3]=r=>o.phoneNumber=r),id:"phoneNumber",name:"phoneNumber",class:"block w-full py-2.5 px-4 text-sm text-gray-800 bg-gray-100 border-b-2 border-gray-300 focus:outline-none focus:border-blue-500",placeholder:" ",required:""},null,512),[[l,o.phoneNumber]])]),t("div",T,[L,i(t("input",{type:"date","onUpdate:modelValue":e[4]||(e[4]=r=>o.birthday=r),id:"birthday",name:"birthday",class:"block w-full py-2.5 px-4 text-sm text-gray-800 bg-gray-100 border-b-2 border-gray-300 focus:outline-none focus:border-blue-500",placeholder:" ",required:""},null,512),[[l,o.birthday]])]),t("div",D,[j,i(t("input",{type:"text","onUpdate:modelValue":e[5]||(e[5]=r=>o.address=r),id:"address",name:"address",class:"block w-full py-2.5 px-4 text-sm text-gray-800 bg-gray-100 border-b-2 border-gray-300 focus:outline-none focus:border-blue-500",placeholder:" ",required:""},null,512),[[l,o.address]])]),t("div",O,[Y,i(t("input",{type:"text","onUpdate:modelValue":e[6]||(e[6]=r=>o.city=r),id:"city",name:"city",class:"block w-full py-2.5 px-4 text-sm text-gray-800 bg-gray-100 border-b-2 border-gray-300 focus:outline-none focus:border-blue-500",placeholder:" ",required:""},null,512),[[l,o.city]])]),t("div",G,[K,i(t("input",{type:"text","onUpdate:modelValue":e[7]||(e[7]=r=>o.state=r),id:"state",name:"state",class:"block w-full py-2.5 px-4 text-sm text-gray-800 bg-gray-100 border-b-2 border-gray-300 focus:outline-none focus:border-blue-500",placeholder:" ",required:""},null,512),[[l,o.state]])]),t("div",R,[J,i(t("input",{type:"text","onUpdate:modelValue":e[8]||(e[8]=r=>o.zipCode=r),id:"zipCode",name:"zipCode",class:"block w-full py-2.5 px-4 text-sm text-gray-800 bg-gray-100 border-b-2 border-gray-300 focus:outline-none focus:border-blue-500",placeholder:" ",required:""},null,512),[[l,o.zipCode]])]),t("button",{onClick:e[9]||(e[9]=(...r)=>n.nextStep&&n.nextStep(...r)),class:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded pagination-button",disabled:o.currentStep===4}," Next ",8,W)])):b("",!0),o.currentStep===2?(c(),u("div",Z,[t("div",Q,[X,i(t("select",{"onUpdate:modelValue":e[10]||(e[10]=r=>o.enrolledInMedicare=r),id:"medicareEnrollment",name:"medicareEnrollment",class:"block w-full py-2.5 px-4 text-sm text-gray-800 bg-gray-100 border-b-2 border-gray-300 focus:outline-none focus:border-blue-500",required:""},te,512),[[f,o.enrolledInMedicare]])]),t("div",oe,[re,(c(!0),u(x,null,_(o.products,(r,m)=>(c(),u("div",{key:m,class:"checkbox-item"},[i(t("input",{class:"form-checkbox h-5 w-5 text-indigo-600 transition duration-150 ease-in-out mr-2",type:"checkbox",id:"product_"+m,value:r,"onUpdate:modelValue":e[11]||(e[11]=y=>o.selectedProducts=y)},null,8,se),[[v,o.selectedProducts]]),t("label",{for:"product_"+m},w(r),9,ne)]))),128))]),t("div",null,[t("button",{onClick:e[12]||(e[12]=(...r)=>n.prevStep&&n.prevStep(...r)),class:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded mr-2 pagination-button",disabled:o.currentStep===1}," Previous ",8,ie),ae])])):b("",!0)],32),N(h,null,{default:C(()=>[S(" By clicking the button and submitting this form, I agree that I am 18+ years old and I provide my signature expressly consenting to receive emails, calls, postal mail, text messages and other forms of communication regarding Health Insurance, or other offers from these companies and agents to the number(s) I provided, including a mobile phone, even if I am on a state or federal Do Not Call and/or Do Not Email registry. The list of companies participating are subject to change. You will receive calls from a maximum of eight providers. Such calls and text messages may use automated telephone dialing systems, artificial or pre-recorded voices. I understand my wireless carrier may impose charges for calls or texts. I understand that my consent to receive communications is not a condition of purchase and I may revoke my consent at any time.By using this site, you acknowledge that you have read and agree to the Privacy Policy. ")]),_:1})])}const me=I(P,[["render",le]]);export{me as default};
